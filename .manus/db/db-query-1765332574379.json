{
  "query": "CREATE TABLE IF NOT EXISTS `currency_transactions` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`studentUserId` int NOT NULL,\n\t`type` enum('earn','spend') NOT NULL,\n\t`currency_type` enum('coins','gems') NOT NULL,\n\t`amount` int NOT NULL,\n\t`reason` varchar(255) NOT NULL,\n\t`relatedId` int,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `currency_transactions_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE IF NOT EXISTS `leaderboards` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`studentUserId` int NOT NULL,\n\t`scope` enum('class','school','global') NOT NULL,\n\t`scopeId` int,\n\t`period` enum('daily','weekly','monthly','all_time') NOT NULL,\n\t`points` int NOT NULL DEFAULT 0,\n\t`rank` int,\n\t`periodStart` timestamp NOT NULL,\n\t`periodEnd` timestamp NOT NULL,\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `leaderboards_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE IF NOT EXISTS `milestones` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`studentUserId` int NOT NULL,\n\t`milestoneType` varchar(100) NOT NULL,\n\t`percentage` int,\n\t`title` varchar(255) NOT NULL,\n\t`description` text,\n\t`rewardCoins` int DEFAULT 0,\n\t`rewardGems` int DEFAULT 0,\n\t`celebrated` boolean DEFAULT false,\n\t`achievedAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `milestones_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE IF NOT EXISTS `streak_freezes` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`studentUserId` int NOT NULL,\n\t`usedAt` timestamp NOT NULL DEFAULT (now()),\n\t`reason` varchar(255),\n\tCONSTRAINT `streak_freezes_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE IF NOT EXISTS `student_currency` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`studentUserId` int NOT NULL,\n\t`coins` int NOT NULL DEFAULT 0,\n\t`gems` int NOT NULL DEFAULT 0,\n\t`totalEarned` int NOT NULL DEFAULT 0,\n\t`totalSpent` int NOT NULL DEFAULT 0,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `student_currency_id` PRIMARY KEY(`id`),\n\tCONSTRAINT `student_currency_studentUserId_unique` UNIQUE(`studentUserId`)\n);",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user UqERVjVAX9eY9W2.dc0a0a76636f --database 5L3gkWSwSgtAn7Y93vysCU --execute CREATE TABLE IF NOT EXISTS `currency_transactions` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`studentUserId` int NOT NULL,\n\t`type` enum('earn','spend') NOT NULL,\n\t`currency_type` enum('coins','gems') NOT NULL,\n\t`amount` int NOT NULL,\n\t`reason` varchar(255) NOT NULL,\n\t`relatedId` int,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `currency_transactions_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE IF NOT EXISTS `leaderboards` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`studentUserId` int NOT NULL,\n\t`scope` enum('class','school','global') NOT NULL,\n\t`scopeId` int,\n\t`period` enum('daily','weekly','monthly','all_time') NOT NULL,\n\t`points` int NOT NULL DEFAULT 0,\n\t`rank` int,\n\t`periodStart` timestamp NOT NULL,\n\t`periodEnd` timestamp NOT NULL,\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `leaderboards_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE IF NOT EXISTS `milestones` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`studentUserId` int NOT NULL,\n\t`milestoneType` varchar(100) NOT NULL,\n\t`percentage` int,\n\t`title` varchar(255) NOT NULL,\n\t`description` text,\n\t`rewardCoins` int DEFAULT 0,\n\t`rewardGems` int DEFAULT 0,\n\t`celebrated` boolean DEFAULT false,\n\t`achievedAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `milestones_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE IF NOT EXISTS `streak_freezes` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`studentUserId` int NOT NULL,\n\t`usedAt` timestamp NOT NULL DEFAULT (now()),\n\t`reason` varchar(255),\n\tCONSTRAINT `streak_freezes_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE IF NOT EXISTS `student_currency` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`studentUserId` int NOT NULL,\n\t`coins` int NOT NULL DEFAULT 0,\n\t`gems` int NOT NULL DEFAULT 0,\n\t`totalEarned` int NOT NULL DEFAULT 0,\n\t`totalSpent` int NOT NULL DEFAULT 0,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `student_currency_id` PRIMARY KEY(`id`),\n\tCONSTRAINT `student_currency_studentUserId_unique` UNIQUE(`studentUserId`)\n);",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 3117
}